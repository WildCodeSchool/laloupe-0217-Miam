<div class="container-fluid">

    <header class="row">
        <div class="col-xs-12">
            <a ui-sref="anon.profil">
            <img class="miniAvatar col-xs-1" ng-src="{{currentAvatar}}" alt="avatar">
          </a>
            <h1 class="col-xs-10">J'ai goûté</h1>
        </div>
    </header>

    <section class="row searchbar">
        <form ng-submit="goSearch()">
            <div class="col-xs-offset-1 col-xs-10 input-group">
                <input class="form-control input-lg" placeholder="Rechercher" />
                <span class="input-group-btn buttonSearch">
              <button class="btn btn-default btn-lg" type="button">
                <span class="glyphicon glyphicon-search"></span>
                </button>
                </span>
            </div>
        </form>
    </section>

    <section class="row" ng-repeat="categorie in categories">
      <h2>{{ categorie.categorie }}</h2>
      <div class="gouter" ng-repeat="food in categorie.aliments track by $index">
        <div class="col-xs-4 gouterItem" data-toggle="modal" data-target="#{{ food.name }}">
            <img src="{{ food.picto }}" alt="{{ food.name }}" />
            <h3>{{ food.name }}</h3>
            <div class="circleVote">
                <i class="fa fa-circle" aria-hidden="true" style="color: green;"></i>
                <i class="fa fa-circle-o" aria-hidden="true"></i>
                <i class="fa fa-circle-o" aria-hidden="true"></i>
            </div>
        </div>
        <!-- MODAL -->
        <div class="modal fade" id="{{ food.name }}" ng-repeat="food in categorie.aliments track by $index" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-xs-12">
                                <img class="col-xs-offset-2 col-xs-8" src="{{ food.picto }}" alt="{{ food.name }}" />
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">×</span>
                                </button>
                            </div>
                        </div>
                        <div class="row">
                            <h1 class="col-xs-12">{{ food.name }}</h1>
                        </div>
                        <div class="row">
                            <div class="col-xs-offset-3 col-xs-6">
                                <div class="col-xs-12">
                                    <div class="circleVote">
                                        <i class="fa fa-circle" aria-hidden="true" style="color: green;"></i>
                                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-xs-12 description">
                                <h2>Description</h2>
                                <p>{{ food.description }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 portion">
                                <h2>Portion</h2>
                                <p>{{ categorie.portion }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 suggestion">
                                <h2>Suggestions de préparation</h2>
                                <p>{{ arrayToString(food.suggestions) }}</p>
                            </div>
                        </div>
                        <div class="row" ng-hide="!(arrayToString(food.composition)).length">
                            <div class="col-xs-12 composition">
                                <h2>Composition</h2>
                                <p>{{ arrayToString(food.composition) }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-offset-1 col-xs-10">
                                <div class="col-xs-6">
                                    <i class="fa fa-circle" aria-hidden="true" style="color: green; font-size: 50px;"></i>
                                    <h3>J'ai aimé</h3>
                                </div>
                                <div class="col-xs-6">
                                    <i class="fa fa-circle" aria-hidden="true" style="color: red; font-size: 50px;"></i>
                                    <h3>Je n'ai pas aimé</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-offset-3 col-xs-6">
                        <button class="col-xs-12" type="button" name="button">à goûter</button>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </section>

</div>
