<div class="container-fluid vertical-center">

    <div class="container">

        <header class="row">
            <div class="col-xs-12">
                <h1>J'ai goûté</h1>
            </div>
        </header>

        <section class="row searchbar">
            <form ng-submit="scrollTo()">
                <div class="col-xs-offset-1 col-10 input-group">
                    <input id="input" class="form-control input-lg" type="text" placeholder="Rechercher" list="appearances" ng-model="appearance" ng-change="selectFood(appearance)" />

                    <datalist id="appearances">
                        <div ng-repeat="(key, value) in foodList">
                        <div ng-repeat="food in value.aliments">
                          <option value="{{ food.name }}"></option>
                        </div>
                      </div>
                    </datalist>

                    <span class="input-group-btn">
                      <button class="btn btn-default btn-lg" type="button" ng-click="scrollTo()">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                    </span>

                    <div>



                </div>
            </form>
        </section>

        <!--<section class="row searchbar">
        <form ng-submit="goSearch()">
            <div class="col-xs-offset-1 col-xs-10 input-group">
                <input class="form-control input-lg" placeholder="Rechercher" />
                <span class="input-group-btn buttonSearch">
              <button class="btn btn-default btn-lg" type="button">
                <span class="glyphicon glyphicon-search"></span>
                </button>
                </span>
            </div>
        </form>
    </section>-->

        <section class="row" ng-repeat="categorie in categories">
            <h2>{{ underscore(categorie) }}</h2>
            <div id="_{{ food.name }}" class="gouter" ng-repeat="food in foodList[categorie].aliments">
                <div class="col-xs-4 gouter-item" data-toggle="modal" data-target="#{{ food.name }}">

                    <img src="{{ food.picto }}" alt="{{ food.name }}" />
                    <h3>{{ food.name }}</h3>
                    <div class="circle-vote">
                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                        <i class="fa fa-circle-o" aria-hidden="true"></i>
                    </div>
                </div>
                <!-- MODAL -->
                <div class="modal fade" id="{{ food.name }}" ng-repeat="food in foodList[categorie].aliments track by $index" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <img class="col-xs-offset-3 col-xs-6" src="{{ food.picto }}" alt="{{ food.name }}" />
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true">×</span>
                                </button>
                                    </div>
                                </div>
                                <div class="row">
                                    <h1 class="col-xs-12">{{ food.name }}</h1>
                                </div>
                                <div class="row">
                                    <div class="col-xs-offset-3 col-xs-6">
                                        <!-- <div class="col-xs-12"> -->
                                        <div class="circle-vote">
                                            <i class="fa fa-circle-o" aria-hidden="true"></i>
                                            <i class="fa fa-circle-o" aria-hidden="true"></i>
                                            <i class="fa fa-circle-o" aria-hidden="true"></i>
                                        </div>
                                        <!-- </div> -->
                                    </div>
                                </div>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-xs-12 description">
                                        <h2>Description</h2>
                                        <p>{{ food.description }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 portion">
                                        <h2>Portion</h2>
                                        <p>{{ value.portion }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-12 suggestion">
                                        <h2>Suggestions de préparation</h2>
                                        <p>{{ arrayToString(food.suggestions) }}</p>
                                    </div>
                                </div>
                                <div class="row" ng-hide="!(arrayToString(food.composition)).length">
                                    <div class="col-xs-12 composition">
                                        <h2>Composition</h2>
                                        <p>{{ arrayToString(food.composition) }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-offset-1 col-xs-10 vote">
                                        <div class="col-xs-6 green">
                                            <button type="button" data-dismiss="modal" class="btn btn-circle btn-lg" ng-click="like(food.name)"><i class="glyphicon glyphicon-ok"></i></button>
                                            <h3>J'ai aimé</h3>
                                        </div>
                                        <div class="col-xs-6 red">
                                            <button type="button" data-dismiss="modal" class="btn btn-circle btn-lg" ng-click="dislike(food.name)"><i class="glyphicon glyphicon-remove"></i></button>
                                            <h3>Je n'ai pas aimé</h3>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-offset-3 col-xs-6 a-gouter">
                                <button class="col-xs-12 btn btn-primary btn-lg" type="button" name="button">À goûter</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>

</div>
